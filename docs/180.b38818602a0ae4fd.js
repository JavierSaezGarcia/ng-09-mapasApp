"use strict";(self.webpackChunkng_09_mapasApp=self.webpackChunkng_09_mapasApp||[]).push([[180],{180:(T,M,c)=>{c.r(M),c.d(M,{MapasModule:()=>_});var p=c(895),v=c(322),i=c(898),t=c(256);class m{constructor(){}ngOnInit(){new i.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-.2291876,39.6702607],zoom:16})}static#t=this.\u0275fac=function(o){return new(o||m)};static#o=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-full-screen"]],decls:1,vars:0,consts:[["id","map"]],template:function(o,e){1&o&&t._UZ(0,"div",0)},styles:["#map[_ngcontent-%COMP%]{width:100%;height:100vh;position:absolute}"]})}const b=["mapa"],y=function(s,a){return{"background-color":s,"border-color":a}};function x(s,a){if(1&s){const o=t.EpF();t.TgZ(0,"li",7)(1,"a",8),t.NdJ("click",function(){const r=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.irMarcador(r.marker))}),t._uU(2),t.qZA(),t.TgZ(3,"a",9),t.NdJ("click",function(){const r=t.CHM(o).index,l=t.oxw();return t.KtG(l.borrarMarcador(r))}),t.TgZ(4,"span"),t._UZ(5,"i",10),t.qZA()()()}if(2&s){const o=a.$implicit,e=a.index;t.xp6(1),t.Q6J("ngStyle",t.WLB(3,y,o.color,o.color)),t.xp6(1),t.hij("Marker ",e+1,""),t.xp6(1),t.Q6J("ngStyle",t.WLB(6,y,o.color,o.color))}}class d{constructor(){this.zoomLevel=15,this.center=[-.2291876,39.6702607],this.marcadores=[]}ngAfterViewInit(){this.mapa=new i.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.center,zoom:this.zoomLevel}),this.leerLocalStorage()}agregarMarcador(){const a="#xxxxxx".replace(/x/g,e=>(16*Math.random()|0).toString(16)),o=new i.Marker({draggable:!0,color:a}).setLngLat(this.center).addTo(this.mapa);this.marcadores.push({color:a,marker:o}),this.guardarMarcadoresLocalStorage(),o.on("dragend",()=>{this.guardarMarcadoresLocalStorage()})}irMarcador(a){this.mapa.flyTo({center:a.getLngLat()})}guardarMarcadoresLocalStorage(){const a=[];this.marcadores.forEach(o=>{const e=o.color,{lng:n,lat:r}=o.marker.getLngLat();a.push({color:e,centro:[n,r]})}),localStorage.setItem("marcadores",JSON.stringify(a))}leerLocalStorage(){localStorage.getItem("marcadores")&&JSON.parse(localStorage.getItem("marcadores")).forEach(o=>{const e=new i.Marker({color:o.color,draggable:!0}).setLngLat(o.centro).addTo(this.mapa);this.marcadores.push({marker:e,color:o.color}),e.on("dragend",()=>{this.guardarMarcadoresLocalStorage()})})}borrarMarcador(a){this.marcadores[a].marker?.remove(),this.marcadores.splice(a,1),this.guardarMarcadoresLocalStorage()}static#t=this.\u0275fac=function(o){return new(o||d)};static#o=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-marcadores"]],viewQuery:function(o,e){if(1&o&&t.Gf(b,5),2&o){let n;t.iGM(n=t.CRH())&&(e.divMapa=n.first)}},decls:9,vars:1,consts:[[1,"list-group"],[1,"list-group-item","list-group-item-primary","text-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"mapa"],["mapa",""],[1,"list-group-item"],["type","button",1,"btn","btn-primary",3,"ngStyle","click"],["type","button",1,"btn","btn-danger","float-end",3,"ngStyle","click"],[1,"fa","fa-trash"]],template:function(o,e){1&o&&(t.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),t.NdJ("click",function(){return e.agregarMarcador()}),t._uU(3," Agregar "),t.TgZ(4,"span"),t._UZ(5,"i",3),t.qZA()()(),t.YNc(6,x,6,9,"li",4),t.qZA(),t._UZ(7,"div",5,6)),2&o&&(t.xp6(6),t.Q6J("ngForOf",e.marcadores))},dependencies:[p.sg,p.PC],styles:[".mapa[_ngcontent-%COMP%]{width:100%;height:100vh;position:absolute}.list-group[_ngcontent-%COMP%]{position:fixed;width:180px;top:80px;right:20px;z-index:99;cursor:pointer}.list-group-item[_ngcontent-%COMP%]{background-color:transparent;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}"]})}const L=["mapa"];class g{constructor(){this.lngLat=[0,0]}ngAfterViewInit(){const a=new i.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.lngLat,zoom:15,interactive:!1});(new i.Marker).setLngLat(this.lngLat).addTo(a)}static#t=this.\u0275fac=function(o){return new(o||g)};static#o=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-mini-mapa"]],viewQuery:function(o,e){if(1&o&&t.Gf(L,5),2&o){let n;t.iGM(n=t.CRH())&&(e.divMapa=n.first)}},inputs:{lngLat:"lngLat"},decls:2,vars:0,consts:[["mapa",""]],template:function(o,e){1&o&&t._UZ(0,"div",null,0)},styles:["div[_ngcontent-%COMP%]{width:100%;height:250px;margin:0}"]})}function C(s,a){if(1&s&&(t.TgZ(0,"div",6)(1,"div",7),t._UZ(2,"app-mini-mapa",8),t.TgZ(3,"div",9)(4,"h5",10),t._uU(5),t.qZA(),t.TgZ(6,"p",11),t._uU(7),t.qZA()()()()),2&s){const o=a.$implicit;t.xp6(2),t.Q6J("lngLat",o.lngLat),t.xp6(3),t.hij(" ",o.titulo," "),t.xp6(2),t.hij(" ",o.descripcion," ")}}class u{constructor(){this.propiedades=[{titulo:"Casa residencial, Canad\xe1",descripcion:"Bella propiedad en Katana, Canad\xe1",lngLat:[-75.92722289474008,45.280015511264466]},{titulo:"Casa de playa, M\xe9xico",descripcion:"Hermosa casa de playa en Acapulco, M\xe9xico",lngLat:[-99.91287720907991,16.828940930185748]},{titulo:"Apartamento, Argentina",descripcion:"Lujoso apartamento en el coraz\xf3n de Buenos Aires, Argentina",lngLat:[-58.430166677283445,-34.57150108832866]},{titulo:"Local comercial, Espa\xf1a",descripcion:"Local comercial disponible en Madrid, Espa\xf1a, cerca de El Jard\xedn Secreto.",lngLat:[-3.7112735618380177,40.42567285425766]},{titulo:"El Micalet",descripcion:"Lugar de inter\xe9s hist\xf3rico. P\xe7a. de la Reina, s/n, 46001 Val\xe8ncia, Valencia",lngLat:[-.3755454693184946,39.47610176340438]},{titulo:"Museo Guggenheim Bilbao",descripcion:"Museo de titanio y cristal luminoso, dise\xf1ado por Frank Gehry, que alberga obras de arte del s. XX.",lngLat:[-2.9340010713425806,43.268862598025535]},{titulo:"Catedral de Santiago de Compostela",descripcion:"Gran catedral rom\xe1nica y lugar de peregrinaje famoso por su p\xf3rtico arqueado esculpido por el Maestro Mateo",lngLat:[-8.54465193075195,42.88080844753971]},{titulo:"Plaza Mayor de Vic",descripcion:"Carrer de la Ciutat, 1, 08500 Vic, Barcelona",lngLat:[2.2543273134020034,41.930682359926436]}]}static#t=this.\u0275fac=function(o){return new(o||u)};static#o=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-propiedades"]],decls:8,vars:1,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col-12"],[1,"text-center"],[1,"row"],["class","col-lg-3 col-sm-6 mb-2",4,"ngFor","ngForOf"],[1,"col-lg-3","col-sm-6","mb-2"],[1,"card"],[1,"card-img-top",3,"lngLat"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"Lista de Propiedades y Monumentos"),t.qZA(),t._UZ(5,"hr"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,C,8,3,"div",5),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("ngForOf",e.propiedades))},dependencies:[p.sg,g],styles:[".row-container[_ngcontent-%COMP%]{margin-top:50px;margin-left:50px}"]})}const Z=["mapRange"];class h{constructor(){this.zoomLevel=16,this.myCenter=[-.2291876,39.6702607]}ngAfterViewInit(){this.mapa=new i.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.myCenter,zoom:this.zoomLevel}),this.mapa.on("zoom",()=>{this.zoomLevel=this.mapa.getZoom()}),this.mapa.on("zoomend",()=>{this.mapa.getZoom()>18?this.mapa.zoomTo(18):this.mapa.getZoom()<4&&this.mapa.zoomTo(4)}),this.mapa.on("move",a=>{const o=a.target,{lng:e,lat:n}=o.getCenter();this.myCenter=[e,n]})}ngOnDestroy(){this.mapa.off("zoom",()=>{}),this.mapa.off("zoomend",()=>{}),this.mapa.off("move",()=>{})}zoomIn(){this.mapa.zoomIn(),this.zoomLevel=this.mapa.getZoom()}zoomOut(){this.mapa.zoomOut(),this.zoomLevel=this.mapa.getZoom()}zoomCambio(a){let o=Number(a);this.mapa.zoomTo(o)}static#t=this.\u0275fac=function(o){return new(o||h)};static#o=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-zoom-range"]],viewQuery:function(o,e){if(1&o&&t.Gf(Z,5),2&o){let n;t.iGM(n=t.CRH())&&(e.divMapa=n.first)}},decls:17,vars:13,consts:[[1,"mapaRango"],["mapRange",""],[1,"row"],[1,"col-12"],[1,"form-label"],["type","range","min","4","max","18",1,"form-range",3,"value","input"],["zoomInput",""],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-minus"],[1,"btn","btn-primary","btn-sm","float-end",3,"click"],[1,"fa","fa-plus"]],template:function(o,e){if(1&o){const n=t.EpF();t._UZ(0,"div",0,1),t.TgZ(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"number"),t.ALo(7,"number"),t.ALo(8,"number"),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"input",5,6),t.NdJ("input",function(){t.CHM(n);const l=t.MAs(11);return t.KtG(e.zoomCambio(l.value))}),t.qZA()(),t.TgZ(12,"div",3)(13,"button",7),t.NdJ("click",function(){return e.zoomOut()}),t._UZ(14,"i",8),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return e.zoomIn()}),t._UZ(16,"i",10),t.qZA()()()}2&o&&(t.xp6(5),t.lnq(" Zoom ",t.xi3(6,4,e.zoomLevel,"2.0-2")," - Lng,Lat: [ ",t.xi3(7,7,e.myCenter[0],"2.4-4")," , ",t.xi3(8,10,e.myCenter[1],"2.4-4")," ] "),t.xp6(5),t.Q6J("value",e.zoomLevel))},dependencies:[p.JJ],styles:[".mapaRango[_ngcontent-%COMP%]{width:100%;height:100vh;position:absolute}.row[_ngcontent-%COMP%]{position:fixed;width:400px;bottom:25px;left:25px;padding:10px;border-radius:5px;background-color:#fff;box-shadow:2px 2px 2px 1px #0003;z-index:9999;color:#000000b3}"]})}const z=[{path:"",children:[{path:"fullscreen",component:m},{path:"marcadores",component:d},{path:"propiedades",component:u},{path:"zoom-range",component:h},{path:"**",redirectTo:"fullscreen"}]}];class f{static#t=this.\u0275fac=function(o){return new(o||f)};static#o=this.\u0275mod=t.oAB({type:f});static#a=this.\u0275inj=t.cJS({imports:[v.Bz.forChild(z),v.Bz]})}class _{static#t=this.\u0275fac=function(o){return new(o||_)};static#o=this.\u0275mod=t.oAB({type:_});static#a=this.\u0275inj=t.cJS({imports:[p.ez,f]})}}}]);